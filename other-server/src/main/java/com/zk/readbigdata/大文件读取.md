### 过程

1. 从ftp读取文件存入redis

* txt读取所有 excel使用easyExcel读取并边读边存（防止内存溢出）

2. 从redis读取行数据并进行清洗

* 采用多线程清洗

#### 由于过程中任何时候服务都可能中断（比如服务器断电的情况），所以做了一下处理

* 读取超过30分钟的文件需要重新读取
* 清洗超过10小时重新清洗

##### 由于文件中存在同一个主键或者逻辑主键不同时间的数据（默认是行号大的时间是新数据），处理

* 一个线程中清洗的数据进行行号倒叙排序（可以减少删除和插入次数）
* 使用concurrentHashMap存储已保存的主键和行号
* 使用redisson锁主键或者逻辑主键，比较已保存的数据行号是否小于当前行，是则删除已保存数据并保存新的
